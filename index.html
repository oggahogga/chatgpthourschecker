<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="google-site-verification" content="CEAtEX6heCLry2jbt8FHnWDKoPpEtX4xJKJELODEnlI" />
  <title>ChatGPT Usage Stats Checker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8652974641249333"
          crossorigin="anonymous"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
    #directions-wrapper {
      opacity: 0;
      transform: translateY(40px);
      transition: all 1s ease;
    }
    #directions-wrapper.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-gray-900 text-white font-sans">
  <div class="max-w-4xl mx-auto p-6 space-y-6">

    <!-- header -->
    <div class="text-center">
      <h1 class="text-4xl font-bold">üí¨ ChatGPT Usage Stats</h1>
      <p class="text-gray-400 mt-2">upload your <code>conversations.json</code></p>
    </div>

    <!-- upload -->
    <div class="bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
      <input id="fileInput" type="file" accept=".json"
             class="file:mr-4 file:py-2 file:px-4
                    file:rounded-full file:border-0
                    file:text-sm file:font-semibold
                    file:bg-blue-600 file:text-white
                    hover:file:bg-blue-500"/>
      <p id="status" class="mt-3 text-gray-400 text-sm">no file uploaded yet</p>
    </div>

    <!-- stats -->
    <div id="stats" class="grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
      <div class="bg-gray-800 p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-2">‚è± Total Hours</h2>
        <p id="hours" class="text-3xl font-bold text-green-400">-</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-2">üí¨ Total Chats</h2>
        <p id="chats" class="text-3xl font-bold text-blue-400">-</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-2">üì® Total Messages</h2>
        <p id="messages" class="text-3xl font-bold text-purple-400">-</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-2">üìä Avg Msgs / Chat</h2>
        <p id="avg" class="text-3xl font-bold text-pink-400">-</p>
      </div>
    </div>

    <!-- ad slot -->
    <div class="bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
      <h2 class="text-gray-400 text-sm mb-2">Advertisement</h2>
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-8652974641249333"
           data-ad-slot="1234567890"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <!-- footer -->
    <p class="text-center text-gray-500 text-sm">
      built with ‚ù§Ô∏è using your ChatGPT data export
    </p>

    <!-- directions section (hidden initially) -->
    <div id="directions-wrapper" class="mt-12 bg-gray-800 p-6 rounded-2xl shadow-lg">
      <h2 class="text-3xl font-bold text-yellow-400 mb-4">Directions ‚¨áÔ∏è</h2>
      <h3 class="text-xl font-semibold text-gray-300 mb-2">How to get your ChatGPT conversations.json</h3>
      <ol class="list-decimal list-inside space-y-2 text-gray-300">
        <li>Go to <a href="https://chat.openai.com/" target="_blank" class="text-blue-400 underline">chat.openai.com</a> and log in.</li>
        <li>Click your profile ‚Üí Settings ‚Üí Data Export.</li>
        <li>Request your data export (may take some time).</li>
        <li>Once you get the ZIP, extract it and find <code>conversations.json</code>.</li>
        <li>Upload that file using the input above to see your stats.</li>
      </ol>
    </div>

  </div>

<script>
document.getElementById("fileInput").addEventListener("change", function(e){
  const file = e.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = function(ev){
    try {
      const data = JSON.parse(ev.target.result);
      let totalChats = data.length;
      let totalMessages = 0;
      data.forEach(c => {
        totalMessages += Object.keys(c.mapping || {}).length;
      });
      let avgMsgs = (totalMessages / totalChats).toFixed(2);
      let hours = (totalMessages * 0.02).toFixed(2);

      document.getElementById("hours").textContent = hours;
      document.getElementById("chats").textContent = totalChats;
      document.getElementById("messages").textContent = totalMessages;
      document.getElementById("avg").textContent = avgMsgs;

      document.getElementById("status").textContent = "‚úÖ file loaded successfully";
      document.getElementById("stats").classList.remove("hidden");
    } catch(err){
      document.getElementById("status").textContent = "‚ùå invalid JSON file";
    }
  }
  reader.readAsText(file);
});

// show directions and auto-scroll after small scroll
let directionsShown = false;
window.addEventListener("scroll", () => {
  const scrollY = window.scrollY || window.pageYOffset;
  const directions = document.getElementById("directions-wrapper");
  if (!directionsShown && scrollY > 50) { // user scrolled 50px
    directions.classList.add("show");
    directions.scrollIntoView({behavior: "smooth"});
    directionsShown = true;
  }
});
</script>
</body>
</html>
